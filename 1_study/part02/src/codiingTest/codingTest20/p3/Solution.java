package codiingTest.codingTest20.p3;


import java.util.Arrays;
import java.util.Comparator;

public class Solution {

	public static int solution(int[][] activity) {
		int answer = 0;
		boolean[] isVisited = new boolean[activity.length];
		Arrays.sort(activity, new Comparator<int[]>() {
			@Override
			public int compare(int[] a1, int[] a2) {
				if (a1[0] == a2[0]) {
					return a1[1] - a2[1];
				}
				return a1[0] - a2[0];
			}
		});

		int visitedCount = 0;
		while (visitedCount < activity.length) {
			int beforeEndTime = 0;
			answer++;
			for (int i = 0; i < activity.length; i++) {
				if (!isVisited[i] && beforeEndTime <= activity[i][0]) {
					visitedCount++;
					isVisited[i] = true;
					beforeEndTime = activity[i][1];
				}
			}
		}

		return answer;
	}

	public static void main(String[] args) {

		int[][] a = new int[][]{{6, 9}, {14, 15}, {6, 8}, {9, 13}, {6, 9}, {14, 15}, {8, 10}, {5, 6}, {14, 17}, {6, 10}};
		System.out.println(solution(a));

		a = new int[][]{{83, 87}, {163, 170}, {108, 112}, {16, 23}, {119, 124}, {54, 56}, {166, 176}, {174, 180}, {170, 175}, {101, 108}, {58, 65}, {19, 26}, {190, 197}, {1, 9}, {55, 64}, {24, 30}, {5, 11}, {180, 186}, {2, 7}, {144, 147}};
		System.out.println(solution(a));

		a = new int[][]{{17, 31}, {92, 101}, {33, 58}, {77, 90}, {350, 374}, {423, 435}, {458, 479}, {291, 307}, {85, 101}, {432, 461}, {261, 271}, {444, 472}, {92, 115}, {271, 293}, {446, 447}, {488, 491}, {33, 35}, {294, 306}, {273, 296}, {448, 463}, {429, 456}, {60, 82}, {361, 381}, {396, 416}, {414, 429}, {405, 426}, {71, 93}, {91, 121}, {405, 412}, {377, 407}, {456, 474}, {228, 257}, {495, 500}, {41, 46}, {452, 462}, {172, 185}, {34, 36}, {280, 298}, {352, 364}, {237, 239}, {98, 107}, {347, 374}, {167, 170}, {143, 173}, {78, 87}, {238, 245}, {217, 221}, {268, 294}, {461, 472}, {125, 129}};
		System.out.println(solution(a));

		a = new int[][]{{287, 371}, {1000, 1023}, {12, 14}, {648, 699}, {877, 956}, {469, 553}, {583, 589}, {823, 867}, {244, 279}, {482, 567}, {200, 271}, {607, 676}, {322, 365}, {18, 36}, {295, 340}, {695, 742}, {915, 967}, {410, 492}, {55, 151}, {225, 292}, {67, 95}, {151, 237}, {123, 142}, {350, 366}, {378, 382}, {458, 544}, {207, 294}, {687, 775}, {842, 889}, {525, 610}, {641, 712}, {213, 230}, {469, 539}, {569, 610}, {307, 394}, {308, 403}, {261, 292}, {903, 959}, {208, 267}, {997, 1036}, {769, 775}, {251, 258}, {592, 636}, {757, 814}, {449, 535}, {52, 87}, {566, 657}, {209, 214}, {791, 851}, {998, 1078}, {944, 952}, {13, 66}, {949, 1007}, {683, 719}, {788, 867}, {977, 996}, {499, 595}, {824, 906}, {63, 68}, {708, 743}, {618, 700}, {124, 213}, {88, 168}, {817, 875}, {347, 414}, {747, 757}, {150, 211}, {730, 784}, {111, 145}, {6, 37}, {365, 393}, {659, 728}, {98, 128}, {751, 776}, {666, 687}, {176, 270}, {938, 1014}, {801, 887}, {757, 782}, {459, 477}, {38, 63}, {917, 984}, {964, 1056}, {813, 901}, {523, 553}, {107, 183}, {540, 542}, {340, 406}, {925, 942}, {590, 675}, {492, 509}, {112, 127}, {41, 99}, {626, 700}, {729, 808}, {616, 628}, {281, 333}, {771, 789}, {716, 724}, {119, 156}};
		System.out.println(solution(a));

		a = new int[][]{{10, 78}, {0, 13}, {4, 41}, {3, 25}, {6, 90}, {8, 57}, {2, 93}, {10, 53}, {0, 31}, {4, 54}};
		System.out.println(solution(a));
	}
}